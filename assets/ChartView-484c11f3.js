import{r as H,o as Te,D as Ja,a as F,f as O,b as a,F as Ea,g as pa,u as ga,e as y,j as Qa,_ as ba,s as k,E as ma,d as he,A as K,n as Ee,G as $a,H as et,I as ze,z as We,t as Y,q as at,J as tt,l as J,c as Re}from"./index-6214123c.js";import{V as va}from"./lightweight-charts.production-a08ad01f.js";import{u as me,p as it}from"./processDivergence-74a0a7af.js";import{_ as ua}from"./Selector-1a9a8e93.js";function Ba(ee,t){let m=null;const i=typeof t=="number"?t:function(v){const[u,G="ms"]=String(v).split(/(ms|s)/i);return Number(u)*{ms:1,s:1e3}[G]}(t),f=function(){for(var v=arguments.length,u=new Array(v),G=0;G<v;G++)u[G]=arguments[G];const I=()=>{m=null,ee.apply(this,u)};clearTimeout(m),m=setTimeout(I,i),m||ee.apply(this,u)};return f.cancel=()=>{clearTimeout(m),m=null},f}const za={__name:"ChartRsi",setup(ee,{expose:t}){const m=new pa,i=me();let f=[];const v=H(null);let u;return Te(()=>{f=i.chart.data.flatMap(z=>{let D={value:z.rsi,time:z.time};return z.rsi>75&&(D.color="#f70776"),z.rsi<25&&(D.color="#e0ffcd"),D});const e=document.querySelector("#chart-rsi");let r=m.getConfigChart(e.offsetWidth,e.offsetHeight);r.priceLineVisible=!1,r.priceLineColor="transparent",r.lastValueVisible=!1,r.localization={priceFormatter:z=>parseFloat(z).toFixed(2),timeFormatter:z=>{const D="DD-MM-YYYY HH:mm:ss";return Ja(new Date(z)).format(D)}},v.value=va(e,r),u=v.value.addLineSeries({color:"rgba(4, 111, 232, 1)",lineWidth:1,priceLineVisible:!1}),u.setData(f),console.log("dataRsi l:",f.length)}),t({chart:v,updateAndRecalculate:()=>{f=i.chart.data.flatMap(e=>{if(!e.rsi)return[];let r={value:e.rsi,time:e.time};return e.rsi>75&&(r.color="#f70776"),e.rsi<25&&(r.color="#e0ffcd"),r}),u.setData(f)},update:e=>{u.update(e),v.value.applyOptions({watermark:{color:"rgba(255, 255, 255, 1)",visible:!0,text:`RSI 14 SMA ${e.value}`,fontSize:11,horzAlign:"left",vertAlign:"top"}})}}),(e,r)=>(F(),O(Ea,null,[r[0]||(r[0]=a("div",{id:"chart-rsi"},[a("div",{class:"vertical-cursor"})],-1)),r[1]||(r[1]=a("div",{id:"chart-macd"},null,-1))],64))}},Wa={__name:"ChartMacd",props:["chartInfoVisible"],emits:["resizeChart","syncCrosshair"],setup(ee,{expose:t,emit:m}){const i=ee,f=m,v=me(),u=ga(),G=new pa,I=H(null);let e=null,r=null,z=null,D=null,C=[],X=[],te=[],P=[];y(()=>i.chartInfoVisible,function(x){d(x)});const Se=(x,_)=>{if(_){const j=C.filter(p=>p.time===_.time);j[0]&&r&&e.setCrosshairPosition(j[0],_.time,r);return}e.clearCrosshairPosition()},d=x=>{var _,j;(_=x==null?void 0:x.visibleLogicalRange)!=null&&_.to&&((j=x==null?void 0:x.visibleLogicalRange)!=null&&j.from)&&(x.visibleLogicalRange.to=parseInt(x.visibleLogicalRange.to),x.visibleLogicalRange.from=parseInt(x.visibleLogicalRange.from),e.timeScale().setVisibleLogicalRange({to:x.visibleLogicalRange.to,from:x.visibleLogicalRange.from}))},R=async()=>{const x=document.getElementById("chart-macd"),_=parseInt(u.w/1.005),j=parseInt(x.offsetHeight);console.log({w:_,h:j});let p=G.getConfigChart(_,j);p.timeScale.visible=!1,p.timeScale.timeVisible=!1,p.localization.priceFormatter=Q=>parseFloat(Q).toFixed(4),e=await va(x,p),r=e.addHistogramSeries({color:"#26a69a"}),z=e.addLineSeries({color:"#8bffff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),D=e.addLineSeries({color:"#f07810",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),r.applyOptions({lastValueVisible:!1,priceLineVisible:!1}),e.applyOptions({watermark:{color:"#00ff11",visible:!0,text:"MACD  - Fast [10] * Slow [20]",fontSize:14,horzAlign:"left",vertAlign:"top"}})},ae=()=>{v.chart.data.flatMap(p=>p.high);function x(p,Q){return p.time<Q.time?-1:p.time>Q.time?1:0}let _=[];v.chart.data.forEach((p,Q)=>{if(v.chart.data[Q-1]){let A=v.chart.data[Q-1];A.macd.MACD=parseFloat(parseFloat(A.macd.MACD).toFixed(5)),A.macd.histogram=parseFloat(parseFloat(A.macd.histogram).toFixed(5)),A.macd.signal=parseFloat(parseFloat(A.macd.signal).toFixed(5)),p.macd.MACD=parseFloat(parseFloat(p.macd.MACD).toFixed(5)),p.macd.histogram=parseFloat(parseFloat(p.macd.histogram).toFixed(5)),p.macd.signal=parseFloat(parseFloat(p.macd.signal).toFixed(5)),p.macd.signal>p.macd.MACD&&A.macd.MACD>A.macd.signal&&(_[p.time]=!0,P.push({time:A.time,position:"inBar",color:"orange",shape:"circle"})),p.macd.signal<p.macd.MACD&&A.macd.signal>A.macd.MACD&&(_[p.time]=!0,P.push({time:A.time,position:"inBar",color:"aqua",shape:"circle"}))}}),C=v.chart.data.flatMap((p,Q)=>{let A={value:p.macd.histogram,time:p.time};A.color=p.macd.histogram<0?"#c3195d":"#2ba71e70";let ie=v.chart.data[Q-1];return ie&&(ie.macd.histogram<0&&p.macd.histogram<0&&p.macd.histogram>ie.macd.histogram&&(A.color="pink"),ie.macd.histogram>0&&p.macd.histogram>0&&p.macd.histogram<ie.macd.histogram&&(A.color="#e0ffcd")),A}),C=C.sort(x),P=P.sort(x),te=v.chart.data.flatMap(p=>({value:p.macd.signal,time:p.time})),te=te.sort(x),X=v.chart.data.flatMap(p=>({value:p.macd.MACD,time:p.time})),X=X.sort(x),r&&z&&D&&(r.setData(C),z.setData(X),D.setData(te),D.setMarkers(P))};return Te(async()=>{f("resizeChart"),await R(),ae(),e.subscribeCrosshairMove(x=>{const _=v.chart.data.filter(j=>j.time===x.time);_&&_[0]&&_[0].time&&f("syncCrosshair",_[0])})}),Qa(async()=>{f("resizeChart")}),t({processData:ae,histogramSeries:r,syncCrosshair:Se}),(x,_)=>(F(),O("div",{id:"chart-macd",class:"container-macd",ref_key:"chartMacd",ref:I},null,512))}},lt="/img/config.svg";const st={name:"MenuIndicadores",props:["displaymenu"],setup(ee){return{indicators:me()}}},rt={class:"menu-list"},nt={class:"menu-item"},ot={class:"menu-item"},ct={class:"menu-sub-list"},dt={class:"menu-item"},ht={class:"menu-item"},mt={class:"menu-item"},ut={class:"menu-item"},ft={class:"menu-item"},pt={class:"menu-item"},gt={class:"menu-sub-list"},bt={class:"menu-item"},vt={class:"menu-item"},wt={class:"menu-item"},Lt={class:"menu-item"},Vt={class:"menu-item"},xt={class:"menu-item"},kt={class:"menu-item"},yt={class:"menu-item"},Ct={class:"menu-sub-list"},St={class:"menu-item"},Dt={class:"menu-item"},Mt={class:"menu-item"},At={class:"menu-item"},_t={class:"menu-item"},Ft={class:"menu-item"},It={class:"menu-item"},Bt={class:"menu-list"},zt={class:"menu-item"},Wt={class:"menu-list"},Et={class:"menu-item"},Rt={class:"menu-item"},Tt={class:"menu-item"},Pt={class:"menu-item"},Ht={class:"menu-item"},Ot={class:"menu-item"};function jt(ee,t,m,i,f,v){return F(),O("div",{class:k({"menu settings":!0,displaymenu:i.indicators.isOpenMenu,oculto:!i.indicators.isOpenMenu})},[a("ul",rt,[a("li",nt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.getIndicators.bb}),onClick:t[0]||(t[0]=u=>i.indicators.chart.indicators.bb=!i.indicators.chart.indicators.bb)},t[27]||(t[27]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"Bandas de Bollinger",-1)]),2)]),a("li",ot,[t[33]||(t[33]=ma('<button class="menu-button"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 20 20" version="1.1"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-380.000000, -7079.000000)" fill="#898c94"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z" id="arrow_up-[#234]"></path></g></g></g></svg><span>Hull</span><span class="r-30">Ocilador</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg></button>',1)),a("ul",ct,[a("li",dt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.getIndicators.hma10}),onClick:t[1]||(t[1]=u=>i.indicators.chart.indicators.hma10=!i.indicators.chart.indicators.hma10)},t[28]||(t[28]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"10 periodos ",-1)]),2)]),a("li",ht,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.getIndicators.hma20}),onClick:t[2]||(t[2]=u=>i.indicators.chart.indicators.hma20=!i.indicators.chart.indicators.hma20)},t[29]||(t[29]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"20 periodos ",-1)]),2)]),a("li",mt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.getIndicators.hma55}),onClick:t[3]||(t[3]=u=>i.indicators.chart.indicators.hma55=!i.indicators.chart.indicators.hma55)},t[30]||(t[30]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"55 periodos ",-1)]),2)]),a("li",ut,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.getIndicators.hma89}),onClick:t[4]||(t[4]=u=>i.indicators.chart.indicators.hma89=!i.indicators.chart.indicators.hma89)},t[31]||(t[31]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"89 periodos ",-1)]),2)]),a("li",ft,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.getIndicators.hma233}),onClick:t[5]||(t[5]=u=>i.indicators.chart.indicators.hma233=!i.indicators.chart.indicators.hma233)},t[32]||(t[32]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"233 periodos",-1)]),2)])])]),a("li",pt,[t[41]||(t[41]=ma('<button class="menu-button"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 20 20" version="1.1"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-380.000000, -7079.000000)" fill="#898c94"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z" id="arrow_up-[#234]"></path></g></g></g></svg><span>EMAS</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg></button>',1)),a("ul",gt,[a("li",bt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.ema10}),onClick:t[6]||(t[6]=u=>i.indicators.chart.indicators.ema10=!i.indicators.chart.indicators.ema10)},t[34]||(t[34]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"10 periodos ",-1)]),2)]),a("li",vt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.ema20}),onClick:t[7]||(t[7]=u=>i.indicators.chart.indicators.ema20=!i.indicators.chart.indicators.ema20)},t[35]||(t[35]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"20 periodos",-1)]),2)]),a("li",wt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.ema55}),onClick:t[8]||(t[8]=u=>i.indicators.chart.indicators.ema55=!i.indicators.chart.indicators.ema55)},t[36]||(t[36]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"55 periodos ",-1)]),2)]),a("li",Lt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.ema89}),onClick:t[9]||(t[9]=u=>i.indicators.chart.indicators.ema89=!i.indicators.chart.indicators.ema89)},t[37]||(t[37]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"89 periodos ",-1)]),2)]),a("li",Vt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.ema100}),onClick:t[10]||(t[10]=u=>i.indicators.chart.indicators.ema100=!i.indicators.chart.indicators.ema100)},t[38]||(t[38]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"100 periodos ",-1)]),2)]),a("li",xt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.ema200}),onClick:t[11]||(t[11]=u=>i.indicators.chart.indicators.ema200=!i.indicators.chart.indicators.ema200)},t[39]||(t[39]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"200 periodos ",-1)]),2)]),a("li",kt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.ema233}),onClick:t[12]||(t[12]=u=>i.indicators.chart.indicators.ema233=!i.indicators.chart.indicators.ema233)},t[40]||(t[40]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"233 periodos ",-1)]),2)])])]),a("li",yt,[t[49]||(t[49]=ma('<button class="menu-button"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 20 20" version="1.1"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-380.000000, -7079.000000)" fill="#898c94"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M325.998,6919 C324.893,6919 324,6919.895 324,6921 L324,6926 C324,6926.552 324.447,6927 324.999,6927 C325.552,6927 326,6926.552 326,6926 L326,6923.621 C326,6923.176 326.538,6922.953 326.853,6923.268 L329.877,6926.293 C330.268,6926.683 330.901,6926.683 331.291,6926.293 C331.682,6925.902 331.681,6925.269 331.291,6924.879 L328.266,6921.854 C327.951,6921.539 328.174,6921 328.619,6921 L330.998,6921 C331.55,6921 331.998,6920.552 331.998,6920 C331.998,6919.448 331.55,6919 330.998,6919 L325.998,6919 L325.998,6919 Z M344,6932 C344,6931.448 343.551,6931 342.999,6931 C342.447,6931 342,6931.448 342,6932 L342,6934.379 C342,6934.824 341.46,6935.047 341.145,6934.732 L338.12,6931.707 C337.729,6931.317 337.096,6931.317 336.705,6931.707 C336.315,6932.098 336.315,6932.731 336.705,6933.121 L339.73,6936.146 C340.045,6936.461 339.822,6937 339.377,6937 L336.998,6937 C336.446,6937 335.998,6937.448 335.998,6938 C335.998,6938.552 336.446,6939 336.998,6939 L341.998,6939 C343.103,6939 344,6938.105 344,6937 L344,6932 L344,6932 Z" id="arrow_up-[#234]"></path></g></g></g></svg><span>SMA</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg></button>',1)),a("ul",Ct,[a("li",St,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.sma10}),onClick:t[13]||(t[13]=u=>i.indicators.chart.indicators.sma10=!i.indicators.chart.indicators.sma10)},t[42]||(t[42]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"10 periodos ",-1)]),2)]),a("li",Dt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.sma20}),onClick:t[14]||(t[14]=u=>i.indicators.chart.indicators.sma20=!i.indicators.chart.indicators.sma20)},t[43]||(t[43]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"20 periodos",-1)]),2)]),a("li",Mt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.sma55}),onClick:t[15]||(t[15]=u=>i.indicators.chart.indicators.sma55=!i.indicators.chart.indicators.sma55)},t[44]||(t[44]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"55 periodos ",-1)]),2)]),a("li",At,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.sma89}),onClick:t[16]||(t[16]=u=>i.indicators.chart.indicators.sma89=!i.indicators.chart.indicators.sma89)},t[45]||(t[45]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"89 periodos ",-1)]),2)]),a("li",_t,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.sma100}),onClick:t[17]||(t[17]=u=>i.indicators.chart.indicators.sma100=!i.indicators.chart.indicators.sma100)},t[46]||(t[46]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"100 periodos ",-1)]),2)]),a("li",Ft,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.sma200}),onClick:t[18]||(t[18]=u=>i.indicators.chart.indicators.sma200=!i.indicators.chart.indicators.sma200)},t[47]||(t[47]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"200 periodos ",-1)]),2)]),a("li",It,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.sma233}),onClick:t[19]||(t[19]=u=>i.indicators.chart.indicators.sma233=!i.indicators.chart.indicators.sma233)},t[48]||(t[48]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"233 periodos ",-1)]),2)])])])]),a("ul",Bt,[a("li",zt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.divergences}),onClick:t[20]||(t[20]=u=>i.indicators.chart.indicators.divergences=!i.indicators.chart.indicators.divergences)},t[50]||(t[50]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"Divergencias",-1),a("span",{class:"sub-title-label"},"Divergence",-1)]),2)])]),a("ul",Wt,[a("li",Et,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.heikinAshi}),onClick:t[21]||(t[21]=u=>i.indicators.chart.indicators.heikinAshi=!i.indicators.chart.indicators.heikinAshi)},t[51]||(t[51]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"Heikin Ashi",-1),a("span",{class:"sub-title-label"},"Formato de velas",-1)]),2)]),a("li",Rt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.psar}),onClick:t[22]||(t[22]=u=>i.indicators.chart.indicators.psar=!i.indicators.chart.indicators.psar)},t[52]||(t[52]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"PSAR",-1)]),2)]),a("li",Tt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.macd}),onClick:t[23]||(t[23]=u=>i.indicators.chart.indicators.macd=!i.indicators.chart.indicators.macd)},t[53]||(t[53]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"MACD",-1)]),2)]),a("li",Pt,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.kernelChannel}),onClick:t[24]||(t[24]=u=>i.indicators.chart.indicators.kernelChannel=!i.indicators.chart.indicators.kernelChannel)},t[54]||(t[54]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"Kernel Channel",-1)]),2)]),a("li",Ht,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.cci}),onClick:t[25]||(t[25]=u=>i.indicators.chart.indicators.cci=!i.indicators.chart.indicators.cci)},t[55]||(t[55]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,"Impulso CCI",-1)]),2)]),a("li",Ot,[a("button",{class:k({"menu-button custom-indicator":!0,active:i.indicators.chart.indicators.srDinamic}),onClick:t[26]||(t[26]=u=>i.indicators.chart.indicators.srDinamic=!i.indicators.chart.indicators.srDinamic)},t[56]||(t[56]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"800px",height:"800px",viewBox:"0 0 16 16",fill:"none",stroke:"#fff"},[a("path",{fill:"#898c94","fill-rule":"evenodd",d:"M9.166.33a2.25 2.25 0 00-2.332 0l-5.25 3.182A2.25 2.25 0 00.5 5.436v5.128a2.25 2.25 0 001.084 1.924l5.25 3.182a2.25 2.25 0 002.332 0l5.25-3.182a2.25 2.25 0 001.084-1.924V5.436a2.25 2.25 0 00-1.084-1.924L9.166.33zm1.054 5.39a.75.75 0 111.06 1.06l-4 4a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.47-3.47z","clip-rule":"evenodd"})],-1),a("span",null,[he("SR Dynamic "),a("i",{class:"fa-solid fa-flask-vial color-experiment"}),he(" (Alpha)")],-1)]),2)])])],2)}const Nt=ba(st,[["render",jt]]);const qt={__name:"ActivadorIndicator",setup(ee,{expose:t}){const m=me(),i=()=>{m.chart.customOption=!m.chart.customOption,m.chart.customOption?(m.chart.indicators.bb=!0,m.chart.indicators.hma10=!0,m.chart.indicators.hma20=!0,m.chart.indicators.divergences=!0,m.chart.indicators.kernelChannel=!0,m.chart.indicators.srDinamic=!0,m.chart.indicators.macd=!0):(m.chart.indicators.bb=!1,m.chart.indicators.hma10=!1,m.chart.indicators.hma20=!1,m.chart.indicators.divergences=!1,m.chart.indicators.kernelChannel=!1,m.chart.indicators.srDinamic=!1,m.chart.indicators.macd=!1)};return t({indicators:m,toogleCustomOptions:i}),(f,v)=>(F(),O(Ea,null,[a("div",{class:k({"activador-indicadores":!0}),onClick:v[0]||(v[0]=u=>K(m).chart.menuOpen=!K(m).chart.menuOpen)},v[1]||(v[1]=[a("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"css-i6dzq1"},[a("circle",{cx:"12",cy:"12",r:"3"}),a("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})],-1)])),a("img",{src:lt,alt:"custom options",class:k({customOptions:!0,"active-custom":K(m).chart.customOption}),onClick:i},null,2),Ee(Nt)],64))}};const Ut={class:"container-volumen"},Zt={__name:"FloatingVolume",setup(ee){const t=me(),m=new WebSocket(`wss://stream.binance.com:9443/ws/${String(t.chart.symbols).toLowerCase()}@depth`);let i={type:"bar",data:{labels:[],datasets:[{label:"Bids",data:[],backgroundColor:"rgba(75, 192, 75, 0.7)"},{label:"Asks",data:[],backgroundColor:"rgba(192, 75, 75, 0.7)"}]},options:{indexAxis:"y",scales:{x:{grid:{color:()=>"transparent",drawOnChartArea:!1},border:{display:!1},ticks:{display:!1}},y:{grid:{color:()=>"transparent",drawOnChartArea:!1},border:{display:!1},ticks:{color:"white"}}},elements:{bar:{borderWidth:0}},responsive:!0,plugins:{legend:{position:"right",color:"white",display:!1},title:{display:!0,text:"Flujo de Volume (Real-Time)",color:"white"}}}};return Te(async()=>{const f=new Chart(document.getElementById("order-book-chart").getContext("2d"),i);let v=await t.searchDataOrderBook(t.chart.symbols);const u=v.bids.map(r=>parseFloat(r[0]).toFixed(4)),G=v.asks.map(r=>parseFloat(r[0]).toFixed(4)),I=v.bids.map(r=>r[1]),e=v.asks.map(r=>r[1]);f.data.datasets[0].data=I,f.data.datasets[1].data=e,f.data.labels=[].concat(u,G).slice(0,10),f.update(),m.onerror=r=>{console.error("WebSocket Error:",r)},m.onclose=()=>{console.log("WebSocket Connection Closed")},m.onmessage=r=>{const z=JSON.parse(r.data),D=z.b.map(P=>P[1]),C=z.b.map(P=>parseFloat(P[0]).toFixed(4)),X=z.a.map(P=>P[1]),te=z.a.map(P=>parseFloat(P[0]).toFixed(4));f.data.labels=[].concat(C,te),f.data.datasets[0].data=D,f.data.datasets[1].data=X,f.update()}}),(f,v)=>(F(),O("div",Ut,v[0]||(v[0]=[a("canvas",{id:"order-book-chart",width:"300",height:"300"},null,-1)])))}};const Yt={class:"target-selector"},Kt={class:"panelTarget"},Gt={class:"selectors-areas"},Xt={class:"target-symbols"},Jt={class:"target-temporality"},Qt={class:"legend"},$t={class:"l-hma10"},ei={key:0,id:"hma10-label"},ai={class:"l-hma20"},ti={key:0,id:"hma20-label"},ii={class:"l-ema200"},li={key:0,id:"ema200-label"},si={class:"details"},ri={key:0,class:"d-price"},ni={key:1,class:"d-high"},oi={key:2,class:"d-low"},ci={key:3,class:"d-close"},di={key:4,class:"d-rsi"},hi={key:5,class:"d-move"},mi={key:6,class:"d-ps"},ui={class:"timer-counter"},fa="#chart-main",fi={__name:"ChartMobile",emits:["refresh"],setup(ee,{expose:t,emit:m}){var Fa,Ia;const i=m,f=$a(),v=et(),u=f.params&&f.params&&f.params.symbol?f.params.symbol.toString().toUpperCase():"BTCUSDT",G=f.params&&f.params&&f.params.temporality?f.params.temporality.toString().toLocaleLowerCase():"4h",I=ga(),e=me(),r=new pa,z=H(null),D=H(null),C=H(null),X=H(null),te=H(!1),P=H(!1),Se=H(null);let d,R;const ae=H(0),x=H(0),_=H("15m");let j,p,Q,A,ie,De,Me,Pe,He,Oe,je,Ne,ue,fe,pe,ge,be,Ae,re,ve,we,Le,Ve,xe,_e,ne,qe="#e0ffcd",Ue="#f96d00",Ze="#ff347f",Ye="#a393eb",Ke="#35bcbf",Ge="#8ed6ff",Xe="#b6cdbd",Je="#cbf078",Qe="#0092ca",$e="#e84a5f",ea="#a393eb",aa="#defcf9",ta="#35bcbf",ia="#93deff",la,ke;const sa=H(null),se=ze({bajista:[],alcista:[]}),$=ze({resistencia:null,soporte:null});let oe=[],ye=[],Fe=0,ra=null;const ce=ze({alcistas:[],bajistas:[]}),h=ze({price:null,close:null,high:null,low:null,rsi:null,rsih:null,higl:null,ps:null}),Ra=H([{value:"1m",label:"1m"},{value:"5m",label:"5m"},{value:"15m",label:"15m"},{value:"30m",label:"30m"},{value:"1h",label:"1h"},{value:"2h",label:"2h"},{value:"4h",label:"4h"},{value:"1d",label:"1d"},{value:"3d",label:"3d"},{value:"1w",label:"1w"}].flatMap(n=>G==n.label?{value:n.value,label:n.label,selected:!0}:{value:n.value,label:n.label}));(Fa=f==null?void 0:f.params)!=null&&Fa.symbol?e.chart.symbols=String(f.params.symbol).toUpperCase():e.chart.symbols=u,(Ia=f==null?void 0:f.params)!=null&&Ia.temporality?e.chart.temporality=f.params.temporality:e.chart.temporality=G;const wa=H([]),na=H(!1);function Ie(){const n=new Date().getTime()+sa.value*1e3-Date.parse(new Date),s=Math.floor(n/1e3%60),o=Math.floor(n/1e3/60%60),c=Math.floor(n/(1e3*60*60)%24),g=Math.floor(n/(1e3*60*60*24));return{total:n,days:g<10?"0"+g:g,hours:c<10?"0"+c:c,minutes:o<10?"0"+o:o,seconds:s<10?"0"+s:s}}const La=We(()=>Ie().seconds),Va=We(()=>Ie().minutes),Ta=We(()=>Ie().hours),Pa=We(()=>Ie().days),Be=()=>{var o;const n=document.querySelector(fa);n!=null&&n.offsetHeight&&(d!=null&&d.resize)&&d.resize(parseInt(I.w/1.008),parseInt(n.offsetHeight));const s=document.querySelector("div#chart-rsi>div.vertical-cursor");(o=D==null?void 0:D.value)!=null&&o.chart&&s&&D.value.chart.resize(parseInt(document.querySelector("div.tv-lightweight-charts").offsetWidth),parseInt(document.querySelector("div#chart-rsi>div.vertical-cursor").offsetHeight))},xa=()=>{const s=r.kernelChannel(e.chart.data,89,3.5),o=s.flatMap(w=>({time:w.time,value:parseFloat(parseFloat(w.upperChannel).toFixed(4))})),c=s.flatMap(w=>({time:w.time,value:parseFloat(parseFloat(w.lowerChannel).toFixed(4))})),g=s.flatMap((w,W)=>{const M=parseFloat(w.smoothedData)<e.chart.data[W].close?"#A6FF96":"#DA0C81";return{time:w.time,value:parseFloat(parseFloat(w.smoothedData).toFixed(4)),color:M}});j.setData(g),p.setData(o),Q.setData(c)};y(()=>I.w,function(n){Be()}),y(()=>I.h,function(n){Be()});const Ha=Ba(function(n){P.value=!0;let s=e.chart.data[0].time;r.searchData({exchange:e.getExchange,interval:e.getTemporality,symbolsPairs:e.getSymbol,limit:500,cci:e.chart.indicators.cci,endTime:s}).then(o=>{o.pop(),console.log({previusData:o});const c=[...o,...e.chart.data];c.sort((g,w)=>parseInt(g.time)-parseInt(w.time)),e.chart.data=c,R.setData(c),n(),e.chart.indicators.macd&&C.value.processData(),D.value&&D.value.updateAndRecalculate()}).finally(function(){P.value=!1})},1e3),Oa=()=>{var n;if((n=e==null?void 0:e.chart)!=null&&n.data&&e.chart.data.length>100){const s=e.chart.data.flatMap(o=>o.close);r.calculoRSI(s.slice(-100)).then(o=>{var c;x.value=o.pop(),D.value&&((c=e==null?void 0:e.chart)!=null&&c.data)&&e.chart.data.length>0&&e.chart.data[e.chart.data.length-1]&&(e.chart.data[e.chart.data.length-1].rsi=x,e.chart.indicators.rsi&&e.chart.data&&e.chart.data.length>0&&D.value.update({value:x,time:e.chart.data[e.chart.data.length-1].time}))})}},ja=Ba(async()=>{const n=String(e.getSymbol).toLowerCase();X.value=await new WebSocket(`wss://fstream.binance.com/ws/${n}@kline_${e.getTemporality}`),X.value.addEventListener("message",async function(s){var c,g,w,W;if(na.value&&na.value==!0||I.loading)return;const o=JSON.parse(s.data);if(s&&(o!=null&&o.s)&&o.result==null&&(o!=null&&o.k)&&(o==null?void 0:o.k)!=null&&((c=o==null?void 0:o.k)==null?void 0:c.i)==e.getTemporality&&e.chart.data.length&&String(o.s).toUpperCase()==String(e.getSymbol).toUpperCase()){const M=parseFloat(o.k.c),B=o.k.T?parseInt(o.k.T):null,N=o.k.x?o.k.x:!1,S=o.k.V?parseFloat(o.k.V):null;ke&&ke.update({value:S,time:B,color:"#d1e1e159"}),ae.value=M,h.price=M>100?parseFloat(M).toFixed(2):M;const L={time:parseInt(o.k.T),open:parseFloat(o.k.o),high:parseFloat(o.k.h),low:parseFloat(o.k.l),close:M,value:M,volume:S};if(e.chart.data[e.chart.data.length-1].time=L.time,e.chart.data[e.chart.data.length-1].open=L.open,e.chart.data[e.chart.data.length-1].high=L.high,e.chart.data[e.chart.data.length-1].low=L.low,e.chart.data[e.chart.data.length-1].close=L.close,e.chart.data[e.chart.data.length-1].value=L.value,e.chart.data[e.chart.data.length-1].volume=L.volume,Oa(),N&&((g=e==null?void 0:e.chart)!=null&&g.data)&&(await qa(),console.log("xClosed")),!te.value&&((w=e==null?void 0:e.chart)!=null&&w.data)&&e.chart.data.length>2&&e.chart.data[e.chart.data.length-1].high)if(e.chart.data[e.chart.data.length-1].high=L.high,e.chart.data[e.chart.data.length-1].low=L.low,e.chart.data[e.chart.data.length-1].close=L.close,e.chart.data[e.chart.data.length-1].volume=L.volume,e.chart.data[e.chart.data.length-1].value=L.value,(W=e==null?void 0:e.getIndicators)!=null&&W.heikinAshi){let Ce=r.calculoNextHeikinAskiCandle(e.chart.data,e.chart.data[e.chart.data.length-1]);Ce.time=L.time,R.update(Ce)}else R.update(L);sa.value=parseInt((L.time-new Date().getTime())/1e3)}else if(o.s&&String(o.s).toUpperCase()!=String(e.getSymbol).toUpperCase()){const B=`${String(o.s).toLowerCase()}@kline_${e.getTemporality}`;X.value.send(JSON.stringify({method:"UNSUBSCRIBE",params:[B],id:new Date().getTime()})),console.log("* UNSUBSCRIBE",{dtJson:o,evt:s,previusSocket:B,s:e.getSymbol},e.getSymbol,s.currentTarget,o.s===e.getSymbol),X.value.send(JSON.stringify({method:"LIST_SUBSCRIPTIONS",id:new Date().getTime()}))}}),console.log("openSocket")}),Na=async n=>{e.chart.temporality=n.value,ka({value:String(e.getSymbol)})},ka=n=>{I.loading=!0,na.value=!0,ra=n.value;const o=`${String(e.getSymbol).toLowerCase()}@kline_${e.getTemporality}`;if(e.chart.symbols=String(ra).toUpperCase(),v.push({name:"alpha:data",params:{symbol:String(ra).toLowerCase(),temporality:e.chart.temporality}}),X.value)return X.value.send(JSON.stringify({method:"UNSUBSCRIBE",params:[o],id:1})),X.value.send(JSON.stringify({method:"SUBSCRIBE",params:[`${String(e.getSymbol).toLowerCase()}@kline_${e.getTemporality}`],id:1})),i("refresh")},qa=async(n=!0)=>{te.value=n,r.recalculeIndicators(e.chart.data).then(s=>{var g;e.chart.data[e.chart.data.length-1]=s.last;const o=e.chart.data[e.chart.data.length-1].time-e.chart.data[e.chart.data.length-2].time;console.log({dataUpdate:s});const c={open:s.last.close,close:s.last.close,high:s.last.close,low:s.last.close,time:s.last.time+o,macd:s.last.macd,volume:(g=s==null?void 0:s.last)!=null&&g.volume?s.last.volume:0,bb:{middle:s.last.bb.middle,upper:s.last.bb.upper,lower:s.last.bb.lower,pb:s.last.bb.pb},rsi:s.last.bb.rsi,hma10:s.last.hma10,hma20:s.last.hma20,value:s.last.value};e.chart.data.push(c),oa(),te.value=!1}),e.chart.indicators.macd&&C.value&&C.value.processData()},Ua=()=>{d&&(A=d.addLineSeries({color:"#f6483e33",lineWidth:2,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),ie=d.addLineSeries({color:"#f6483e33",lineWidth:7,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),De=d.addLineSeries({color:"#f0f8ff8f",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),Me=d.addLineSeries({color:"#00ffa521",lineWidth:7,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),la=d.addLineSeries({color:"yellow",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:3}),d.addLineSeries({color:"yellow",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:2}),Pe=d.addLineSeries({color:"#84ff3d8a",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),He=d.addLineSeries({color:"orange",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Oe=d.addLineSeries({color:"#f70776",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),je=d.addLineSeries({color:"#00bbf0",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Ne=d.addLineSeries({color:"#bae8e8",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ue=d.addLineSeries({color:Je,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),fe=d.addLineSeries({color:Qe,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),pe=d.addLineSeries({color:$e,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ge=d.addLineSeries({color:ea,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),be=d.addLineSeries({color:aa,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Ae=d.addLineSeries({color:ta,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),re=d.addLineSeries({color:ia,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ve=d.addLineSeries({color:qe,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),we=d.addLineSeries({color:Ue,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Le=d.addLineSeries({color:Ze,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),Ve=d.addLineSeries({color:Ye,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),xe=d.addLineSeries({color:Ke,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),_e=d.addLineSeries({color:Ge,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),ne=d.addLineSeries({color:Xe,lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:0}),j=d.addLineSeries({color:"yellow",lineWidth:4,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}),p=d.addLineSeries({color:"#c1c1c1",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}),Q=d.addLineSeries({color:"#c1c1c1",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,priceLineWidth:!1,crosshairMarkerVisible:!1,lineStyle:1}))},ya=()=>{const s=e.chart.data.flatMap(b=>b).sort((b,T)=>parseInt(T.time)-parseInt(b.time));let o=25,c=0,g=0,w=[],W=[],M=[],B=[];for(var N=0;N<s.length;N++)if(c++,c==o){const b=s.slice(parseInt(g*o),parseInt(g*o)+o),T=b.flatMap(Z=>Z),ca=b.flatMap(Z=>Z),E=T.sort((Z,ha)=>parseFloat(ha.high)-parseFloat(Z.high)),da=ca.sort((Z,ha)=>parseFloat(Z.low)-parseFloat(ha.low));if(!E||!E[0])return;const U=E[0];if((W.length==0&&U||U!=null&&U.high&&W[W.length-1].high<U.high)&&W.push(U),w.length==0&&U?(w.push(U),B.push({linea:[U]})):U!=null&&U.high&&w[w.length-1].high>U.high&&w.push(U),da&&da[0]){const Z=da[0];(M.length==0&&Z||Z!=null&&Z.low&&M[M.length-1].low>Z.low)&&M.push(Z)}c=0,g++}console.log({highDescend:W,highAccend:w,lowDescend:M,marcaciones_leneas_asc:B});const L=e.chart.data.slice(-89).sort((b,T)=>T.high===b.high?parseInt(T.time)-parseInt(b.time):parseFloat(b.high)-parseFloat(T.high));L.sort((b,T)=>parseInt(b.time)-parseInt(T.time)),L.flatMap(b=>b).sort((b,T)=>parseFloat(T.high)-parseFloat(b.high));let l=null;for(var N=L.length-1;N>=0;N--)l?L[N].high>l.high&&(l=L[N]):l=L[N];w.flatMap(b=>({time:b.time,value:b.high,color:"#EC8F5E"})),d.addLineSeries({color:"#EC8F5E",lineWidth:3,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:1});const V=W.flatMap(b=>({time:b.time,value:b.high,color:"olive"}));$.resistencia&&d&&$.resistencia.setData([]),$.soporte&&d&&$.soporte.setData([]),$.resistencia=d.addLineSeries({color:"olive",lineWidth:3,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:1}),$.soporte=d.addLineSeries({color:"#fff",lineWidth:3,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:1});const q=V.flatMap(b=>b);q.sort((b,T)=>parseInt(b.time)-parseInt(T.time)),$.resistencia.setData(q);const le=M.flatMap(b=>({time:b.time,value:b.low,color:"#fff"}));$.soporte.setData(le.sort((b,T)=>parseInt(b.time)-parseInt(T.time))),console.log("lineaTendenciaAlcista::..")},Ca=()=>{if(ie.setData([]),Me.setData([]),De.setData([]),!e.chart.indicators.bb)return;const n=e.chart.data.flatMap(c=>{let g={value:c.bb.upper,time:c.time};return c.high>c.bb.upper&&(g.color="#f443369e"),g}),s=e.chart.data.flatMap(c=>{let g={value:c.bb.lower,time:c.time};return c.low<c.bb.lower&&(g.color="#00ffa58a"),g}),o=e.chart.data.flatMap(c=>({value:c.bb.middle,time:c.time}));n.sort((c,g)=>c.time-g.time),s.sort((c,g)=>c.time-g.time),o.sort((c,g)=>c.time-g.time),ie.setData(n),Me.setData(s),De.setData(o)},de=()=>{if(e.chart.data=e.chart.data.sort((n,s)=>n.time<s.time?-1:n.time>s.time?1:0),e.chart.indicators.hma10){const n=e.chart.data.flatMap(s=>({value:s.hma10,time:s.time}));Pe.setData(n)}if(e.chart.indicators.hma20){const n=e.chart.data.flatMap(s=>({value:s.hma20,time:s.time}));He.setData(n)}if(e.chart.indicators.hma55){const n=r.calculateHMA(e.chart.data,55,"#f70776");Oe.setData(n)}if(e.chart.indicators.hma89){const n=r.calculateHMA(e.chart.data,89,"#9896f1");je.setData(n)}if(e.chart.indicators.hma233){const n=r.calculateHMA(e.chart.data,233,"#00bbf0");Ne.setData(n)}},Sa=()=>{if(!e.chart.indicators.psar){A.setData([]);return}const n=e.chart.data.flatMap(g=>g.high),s=e.chart.data.flatMap(g=>g.low),c=r.calculoPSAR(s,n).flatMap((g,w)=>({value:g,time:e.chart.data[w].time,color:e.chart.data[w].close>g?"aqua":"red"}));A.setData(c)},Za=()=>{ve.setData([]),we.setData([]),Le.setData([]),Ve.setData([]),xe.setData([]),_e.setData([]),ne.setData([]),e.chart.indicators.sma10&&ve.setData(r.calculateEMA(e.chart.data,10,qe)),e.chart.indicators.sma20&&we.setData(r.calculateEMA(e.chart.data,20,Ue)),e.chart.indicators.sma55&&Le.setData(r.calculateEMA(e.chart.data,55,Ze)),e.chart.indicators.sma89&&Ve.setData(r.calculateEMA(e.chart.data,89,Ye)),e.chart.indicators.sma100&&xe.setData(r.calculateEMA(e.chart.data,100,Ke)),e.chart.indicators.sma200&&ne.setData(r.calculateEMA(e.chart.data,200,Ge)),e.chart.indicators.sma233&&ne.setData(r.calculateEMA(e.chart.data,233,Xe))},Ya=()=>{ue.setData([]),fe.setData([]),pe.setData([]),ge.setData([]),be.setData([]),Ae.setData([]),re.setData([]),e.chart.indicators.ema10&&ue.setData(r.calculateEMA(e.chart.data,10,Je)),e.chart.indicators.ema20&&fe.setData(r.calculateEMA(e.chart.data,20,Qe)),e.chart.indicators.ema55&&pe.setData(r.calculateEMA(e.chart.data,55,$e)),e.chart.indicators.ema89&&ge.setData(r.calculateEMA(e.chart.data,89,ea)),e.chart.indicators.ema100&&be.setData(r.calculateEMA(e.chart.data,100,aa)),e.chart.indicators.ema200&&re.setData(r.calculateEMA(e.chart.data,200,ta)),e.chart.indicators.ema233&&re.setData(r.calculateEMA(e.chart.data,233,ia))},Da=()=>{const n=new it(e.chart.data);return new Promise((s,o)=>{n.agregarCallback(c=>{se.alcista=c.alcista,se.bajista=c.bajista}),s(n.iniciarProceso())})},Ma=()=>{setTimeout(function(){new Promise((n,s)=>{se.bajista.length>0&&se.bajista.forEach(o=>{let c=d.addLineSeries({color:"#fff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:0});c.setData(o),ce.bajistas.push(c)}),se.alcista.length>0&&se.alcista.forEach(o=>{let c=d.addLineSeries({color:"#fff",lineWidth:1,axisLabelVisible:!1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1,lineStyle:0});c.setData(o),ce.alcistas.push(c)}),n(!0)})},0)},Aa=async()=>{const n=await r.calculoVelasHeikinAshi(e.chart.data);R.setData(n)},oa=()=>{var n,s;Ca(),de(),Ya(),Za(),Sa(),(n=e==null?void 0:e.getIndicators)!=null&&n.heikinAshi&&e.getIndicators.heikinAshi==!0&&Aa(),(s=e==null?void 0:e.getIndicators)!=null&&s.divergences&&setTimeout(function(){Promise.resolve(Da()).then(Ma())},0),e.chart.indicators.kernelChannel&&xa(),e.chart.indicators.srDinamic&&ya(),Xa()},Ka=()=>{const n=new Date().toLocaleString();ae&&ae.value&&ae.value!=null&&ae.value>0&&!isNaN(ae.value)&&""+parseFloat(ae.value).toFixed(4),d.applyOptions({watermark:{color:"#00ff11",visible:!0,text:`Topacio ${String(e.getSymbol).toUpperCase()}  ${e.getTemporality}  ${n}`,fontSize:14,horzAlign:"left",vertAlign:"top"}})},Ga=n=>{n.flatMap(S=>S).sort((S,L)=>S.value-L.value).slice(-7).flatMap(S=>S.time);const c=n.map(S=>S.value),g=c.reduce((S,L)=>S+L,0)/c.length,w={};c.forEach(S=>{w[S]=(w[S]||0)+1}),Object.keys(w).reduce((S,L)=>w[S]>w[L]?S:L);const W=c.slice().sort((S,L)=>S-L),M=Math.floor(W.length/2);W.length%2===0?(W[M-1]+W[M])/2:W[M];const B=parseInt(g*2.5);return n.flatMap(S=>(S.value>=B&&(S.color="#96EFFF"),S))},Xa=()=>{const n=e.chart.data.flatMap(o=>({time:o.time,value:o.volume,color:"#d1e1e159"})),s=Ga(n);ke.setData(s)};Te(async()=>{I.loading=!0,I.openMenuMobile=!1;const n=document.querySelector(fa),s=parseInt(I.w/1.005),o=parseInt(n.offsetHeight),c=r.getConfigChart(s,o),g=r.getConfigVelasTransparentes();e.chart.data=await r.searchData({exchange:e.getExchange,interval:e.getTemporality,symbolsPairs:e.getSymbol,limit:500,cci:e.chart.indicators.cci});const w=document.querySelector(fa);console.log({configChart:c},e.chart.data),d=va(w,c),R=d.addCandlestickSeries(g),R.setData(e.chart.data),ke=d.addHistogramSeries({lastValueVisible:!1,priceLineVisible:!1,priceFormat:{type:"volume"},priceScaleId:"volumen"}),ke.priceScale().applyOptions({priceFormat:{type:"volume"},scaleMargins:{top:.85,bottom:0}});const M=(await e.searchSymbolsFutures()).flatMap(l=>e.chart.symbols!=l.symbol?{label:l.symbol,value:l.symbol}:{label:l.symbol,value:l.symbol,selected:!0});wa.value=M.filter(l=>l.value.includes("USDT")),Ua(),oa(),Ka();let B=d.timeScale().getVisibleLogicalRange(),N=B&&(B!=null&&B.from)?parseInt(B.from):null;function S(l){var q,le,b,T;const V=document.querySelector("div#chart-rsi>div.vertical-cursor");if(l!=null&&l.time&&d){const ca=d.timeScale().getVisibleLogicalRange(),E=parseInt(l.logical);(q=l==null?void 0:l.point)!=null&&q.x&&V&&(D.value.chart.timeScale().setVisibleLogicalRange(ca),V.style=`transform:translateX(${l.point.x}px)`),e.chart.data[E]&&(h.rsi=e.chart.data[E].rsi,h.low=e.chart.data[E].low,h.high=e.chart.data[E].high,h.close=e.chart.data[E].close,h.move=r.calculatePercentageBetweenValues(h.high,h.low),h.ps=null,h.hma10=(le=e.chart.data[E])!=null&&le.hma10?parseFloat(e.chart.data[E].hma10).toFixed(4):null,h.hma20=(b=e.chart.data[E])!=null&&b.hma20?parseFloat(e.chart.data[E].hma20).toFixed(4):null,e.chart.data[E].bb&&h.high>e.chart.data[E].bb.upper&&(h.ps=r.calculatePercentageBetweenValues(h.high,e.chart.data[E].bb.upper)),e.chart.data[E].bb&&h.low<e.chart.data[E].bb.lower&&(h.ps=r.calculatePercentageBetweenValues(e.chart.data[E].bb.lower,h.low))),B=d.timeScale().getVisibleLogicalRange(),N=B!=null&&B.from?parseInt(B.from):null,N&&N<250&&!P.value&&Ha(oa)}else V&&(V.style="display:none"),h.rsi=null,h.ps=null,h.move=null,h.low=null,h.high=null,h.close=null,h.ema200=null,h.hma10=null,h.hma20=null;(T=l==null?void 0:l.point)!=null&&T.y&&(Fe=R.coordinateToPrice(l.point.y))}d.subscribeCrosshairMove(S),document.addEventListener("keydown",l=>{if(oe[l.key]=!0,oe.Alt&&l.key=="h"){const V=R.createPriceLine({price:Fe,color:"#FFF"});ye.push(V)}if(oe.Alt&&l.key=="s"){const V=R.createPriceLine({price:Fe,color:"#ff006e",title:"Short"});ye.push(V)}if(oe.Alt&&l.key=="l"){const V=R.createPriceLine({price:Fe,color:"#00ff11",title:"Long"});ye.push(V)}(oe.Alt&&l.key=="r"||l.key=="c")&&(console.log("* Cleaning Lines"),ye.map(V=>R.removePriceLine(V)),ye=[])}),document.addEventListener("keyup",l=>{delete oe[l.key]}),document.querySelector("div.container-chart").addEventListener("click",l=>{var V;if((V=window==null?void 0:window.visualViewport)!=null&&V.width){const q=window.visualViewport.width,le=parseInt(q)*.2;l.x>le&&e.chart.menuOpen===!0&&(e.chart.menuOpen=!1)}}),setTimeout(function(){Be()},1e3),ja(),I.loading=!1,y(()=>e.chart.indicators.srDinamic,l=>{!l&&$.resistencia&&$.soporte?($.resistencia.setData([]),$.soporte.setData([])):ya()}),y(()=>e.chart.indicators.cci,async l=>{const V=await r.searchData({exchange:e.getExchange,interval:e.getTemporality,symbolsPairs:e.getSymbol,limit:500,cci:e.chart.indicators.cci});V.sort((q,le)=>parseInt(q.time)-parseInt(le.time)),e.chart.data=V,R.setData(V),console.log("newValue",l,{allData:V})}),y(()=>e.chart.indicators.psar,l=>{l?Sa():A.setData([])}),y(()=>e.chart.indicators.kernelChannel,l=>{l?xa():(j.setData([]),p.setData([]),Q.setData([]))}),y(()=>e.chart.indicators.bb,l=>{l?Ca():(ie.setData([]),Me.setData([]),De.setData([]))}),y(()=>e.chart.indicators.hma10,l=>{l?de():Pe.setData([])}),y(()=>e.chart.indicators.hma20,l=>{l?de():He.setData([])}),y(()=>e.chart.indicators.hma55,l=>{l?de():Oe.setData([])}),y(()=>e.chart.indicators.hma89,l=>{l?de():je.setData([])}),y(()=>e.chart.indicators.hma233,l=>{l?de():Ne.setData([])}),y(()=>e.chart.indicators.heikinAshi,l=>{l?Aa():R.setData(e.chart.data)}),y(()=>e.chart.indicators.ema10,l=>{l?ue.setData(r.calculateEMA(e.chart.data,10,Je)):ue.setData([])}),y(()=>e.chart.indicators.ema20,l=>{l?fe.setData(r.calculateEMA(e.chart.data,20,Qe)):fe.setData([])}),y(()=>e.chart.indicators.ema55,l=>{l?pe.setData(r.calculateEMA(e.chart.data,55,$e)):pe.setData([])}),y(()=>e.chart.indicators.ema89,l=>{l?ge.setData(r.calculateEMA(e.chart.data,89,ea)):ge.setData([])}),y(()=>e.chart.indicators.ema100,l=>{l?be.setData(r.calculateEMA(e.chart.data,100,aa)):be.setData([])}),y(()=>e.chart.indicators.ema200,l=>{l?(la.setData([]),Ae.setData(r.calculateEMA(e.chart.data,200,ta))):(la.setData([]),Ae.setData([]))}),y(()=>e.chart.indicators.ema233,l=>{l?re.setData(r.calculateEMA(e.chart.data,233,ia)):re.setData([])}),y(()=>e.chart.indicators.sma10,l=>{l?ve.setData(r.calcularSMA(e.chart.data,10,qe)):ve.setData([])}),y(()=>e.chart.indicators.sma20,l=>{l?we.setData(r.calcularSMA(e.chart.data,20,Ue)):we.setData([])}),y(()=>e.chart.indicators.sma55,l=>{l?Le.setData(r.calcularSMA(e.chart.data,55,Ze)):Le.setData([])}),y(()=>e.chart.indicators.sma89,l=>{l?Ve.setData(r.calcularSMA(e.chart.data,89,Ye)):Ve.setData([])}),y(()=>e.chart.indicators.sma100,l=>{l?xe.setData(r.calcularSMA(e.chart.data,100,Ke)):xe.setData([])}),y(()=>e.chart.indicators.sma200,l=>{l?_e.setData(r.calcularSMA(e.chart.data,200,Ge)):_e.setData([])}),y(()=>e.chart.indicators.sma233,l=>{l?ne.setData(r.calcularSMA(e.chart.data,233,Xe)):ne.setData([])}),y(()=>e.chart.indicators.divergences,l=>{l?Promise.resolve(Da()).then(Ma()):(ce.alcistas.forEach(function(V){V.setData([])}),ce.bajistas.forEach(function(V){V.setData([])}),ce.alcistas=[],ce.bajistas=[],se.alcista=[],se.bajista=[])});function L(l){var b;const V=d.timeScale().getVisibleLogicalRange(),q=d.timeScale().getVisibleRange(),le=parseInt(d.timeScale().scrollPosition());Se.value={visibleLogicalRange:V,visibleRange:q,scrollPosition:le,t:Date.now()},C!=null&&C.value&&((b=C==null?void 0:C.value)!=null&&b.timeScale)&&C.value.timeScale().setVisibleLogicalRange(l)}const Ce=(l,V)=>V.time&&V.seriesData.get(l)||null;d.subscribeCrosshairMove(l=>{var q;const V=Ce(R,l);C!=null&&C.value&&((q=C==null?void 0:C.value)!=null&&q.syncCrosshair)&&C.value.syncCrosshair(R,V)}),d.timeScale().subscribeVisibleLogicalRangeChange(L)});const _a=n=>{d.setCrosshairPosition(n,n.time,R)};return t({mainStore:I,chartStore:e,lastPrice:ae,details:h,leftTime:sa,getSegundsLeft:La,getMinLeft:Va,getDaysLeft:Pa,Selector:ua,ChartRsi:za,ChartMacd:Wa,chartMacd:C,lastRSI:x,syncCrosshairMACD:_a}),(n,s)=>(F(),O("div",{class:k({"container-chart":!0,"graphic-macd":K(e).chart.indicators.macd})},[a("div",Yt,[a("div",Kt,[a("p",null,"[ FUTURES: "+Y(K(e).getExchange),1),a("div",Gt,[a("div",Xt,[Ee(ua,{opciones:wa.value,onlyLabel:!1,lblPorDefecto:K(e).chart.symbols,onActionChange:ka},null,8,["opciones","lblPorDefecto"])]),a("div",Jt,[Ee(ua,{lblPorDefecto:K(e).getTemporality,opciones:Ra.value,onlyLabel:!1,modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=o=>_.value=o),onActionChange:Na},null,8,["lblPorDefecto","opciones","modelValue"])])])])]),at(a("div",{id:"chart-main",ref_key:"chartElement",ref:z},[a("div",Qt,[a("span",$t,[s[1]||(s[1]=he("HMA10 ")),h.hma10?(F(),O("label",ei,Y(h.hma10),1)):J("",!0)]),a("span",ai,[s[2]||(s[2]=he("HMA20 ")),h.hma10?(F(),O("label",ti,Y(h.hma20),1)):J("",!0)]),a("span",ii,[s[3]||(s[3]=he("EMA200 --- ")),h.ema200?(F(),O("label",li,Y(h.ema200),1)):J("",!0)])]),a("div",si,[h.price?(F(),O("span",ri,[s[4]||(s[4]=a("p",null,"Price:",-1)),a("b",null,Y(h.price),1),a("b",null,"RSI "+Y(x.value),1)])):J("",!0),h.high?(F(),O("span",ni,[s[5]||(s[5]=a("p",null,"High:",-1)),a("p",null,Y(h.high),1)])):J("",!0),h.low?(F(),O("span",oi,[s[6]||(s[6]=a("p",null,"Low:",-1)),a("p",null,Y(h.low),1)])):J("",!0),h.close?(F(),O("span",ci,[s[7]||(s[7]=a("p",null,"Close:",-1)),a("p",null,Y(h.close),1)])):J("",!0),h.rsi?(F(),O("span",di,[s[8]||(s[8]=a("p",null,"RSI",-1)),a("p",null,Y(h.rsi),1)])):J("",!0),h.move?(F(),O("span",hi,[s[9]||(s[9]=a("p",null,"move",-1)),a("p",null,Y(h.move)+"%",1)])):J("",!0),h.ps?(F(),O("span",mi,[s[10]||(s[10]=a("b",null,"PS ",-1)),a("p",null,Y(h.ps)+"%",1)])):J("",!0)]),a("div",ui,[s[11]||(s[11]=a("span",null,"Left time",-1)),he(" "+Y(Ta.value)+":"+Y(Va.value)+":"+Y(La.value),1)]),K(e).chart.symbols=="BTCUSDT"?(F(),Re(Zt,{key:0})):J("",!0)],512),[[tt,!K(I).loading]]),K(e).chart.data.length>0&&!K(I).loading&&K(e).chart.indicators.rsi?(F(),Re(za,{key:0,ref_key:"chartRsi",ref:D},null,512)):J("",!0),!K(I).loading&&K(e).chart.data.length>0&&K(e).chart.indicators.macd?(F(),Re(Wa,{key:1,chartInfoVisible:Se.value,onResizeChart:Be,onSyncCrosshair:_a,ref_key:"chartMacd",ref:C},null,8,["chartInfoVisible"])):J("",!0),Ee(qt)],2))}},pi=ba(fi,[["__scopeId","data-v-b0f0dc6c"]]);const gi={class:"charts"},bi={__name:"ChartView",setup(ee,{expose:t}){ga();const m=H(!1),i=()=>{m.value=!0,console.log("reloadChart"),setTimeout(function(){m.value=!1},100)};return t({isRefresh:m}),(f,v)=>(F(),O("main",gi,[m.value?J("",!0):(F(),Re(pi,{key:0,onRefresh:i}))]))}},ki=ba(bi,[["__scopeId","data-v-6123f56f"]]);export{ki as default};
